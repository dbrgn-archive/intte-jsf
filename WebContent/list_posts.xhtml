<ui:composition template="template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:cust="http://java.sun.com/jsf/composite/comp"
        >
    <ui:define name="content">

        <div class="row">

            <ui:repeat var="post" value="#{postsBean.posts}" styleClass="posts">

                <div class="post">
                    <h:form>
                        <cust:vote post="#{post}" />
                        <div class="postContainer">
                            <h:commandLink styleClass="postLink" action="#{postBean.setPost(post)}">
                                <h2 class="postTitle">#{post.title}</h2>

                                <div class="postInfo">
                                    <span class="postTime">#{post.durationSinceCreated.value} #{i18n[post.durationSinceCreated.unit]} #{i18n.ago} </span> #{i18n.by}
                                    <span class="postUser">#{post.user.username}</span>
                                </div>
                                <p class="comments"><span class="glyphicon glyphicon-comment"/>
                                    <span>#{post.deepCommentCount} #{i18n.comment}</span></p>
                            </h:commandLink>
                        </div>
                    </h:form>
                </div>

            </ui:repeat>

        </div>
    </ui:define>
</ui:composition>
